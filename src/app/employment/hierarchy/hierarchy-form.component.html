<div class="row">
  <div class="col-8">
    <form #f="ngForm" (ngSubmit)="save(f.value)">
      <input type="hidden" class="form-control" id="id" [(ngModel)]="hierarchy.id" name="id">
      <input type="hidden" class="form-control" id="uuid" [(ngModel)]="hierarchy.uuid" name="uuid">
      <div class="form-group">
        <label for="name" class="control-label">Nom</label>
        <input type="text" class="form-control" id="name" [(ngModel)]="hierarchy.name" name="name">
      </div>
      <div class="form-group">
        <label for="description" class="control-label">Description</label>
        <textarea name="description" id="description"  [(ngModel)]="hierarchy.description" cols="30" rows="5" class="form-control"></textarea>
      </div>

      <div class="form-group">
        <label for="level" class="control-label">Niveau</label>
        <select name="level" id="level" class="form-control" [(ngModel)]="hierarchy.level">
          <option [ngValue]="null"></option>
          <option [ngValue]="l.id === hierarchy.level?.id ? hierarchy.level : l" *ngFor="let l of levels; trackBy: trackLevelById">
            {{ l.name }}
          </option>
        </select>
      </div>

      <div class="form-group">
        <label for="parentHierarchy" class="control-label">Hierarchie Parent</label>
        <select name="parentHierarchy" id="parentHierarchy" class="form-control" [(ngModel)]="hierarchy.parentHierarchy">
          <option [ngValue]="null"></option>
          <option [ngValue]="h.id === hierarchy.parentHierarchy?.id ? hierarchy.parentHierarchy : h" *ngFor="let h of hierarchies; trackBy: trackHierarchyById">
            {{ h.name }}
          </option>
        </select>
      </div>

      <div class="form-group">
        <button *ngIf="!hierarchy.id" class="btn btn-success" type="submit"><i class="fa fa-save"></i> Enregistrer</button>
        <button *ngIf="hierarchy.id" class="btn btn-success" type="submit"><i class="fa fa-save"></i> Modifier</button>

        <button class="btn btn-dark ml-1" (click)="backClicked()"><i class="fa fa-undo"></i> Annuler</button>
      </div>
    </form>
  </div>

</div>

